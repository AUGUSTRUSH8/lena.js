/*! lena-js 2013-06-02 */
LenaJS={},LenaJS.getImage=function(a){var b=document.createElement("canvas");b.width=a.width,b.height=a.height;var c=b.getContext("2d");return c.drawImage(a,0,0),c.getImageData(0,0,a.width,a.height)},LenaJS.printCanvas=function(a,b){a.width=b.width,a.height=b.height;var c=a.getContext("2d");c.putImageData(b,0,0)},LenaJS.filterImage=function(a,b,c){var d=[this.getImage(c)];return this.printCanvas(a,b.apply(null,d))},LenaJS.grayscale=function(a){for(var b=0;b<a.data.length;b+=4){var c=a.data[b],d=a.data[b+1],e=a.data[b+2];a.data[b]=a.data[b+1]=a.data[b+2]=.2126*c+.7152*d+.0722*e}return a},LenaJS.invert=function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c],b[c+1],b[c+2],b[c]=255-b[c],b[c+1]=255-b[c+1],b[c+2]=255-b[c+2];return a},LenaJS.red=function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c],b[c+1],b[c+2],b[c]=b[c],b[c+1]=0,b[c+2]=0;return a},LenaJS.green=function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c],b[c+1],b[c+2],b[c]=0,b[c+2]=0;return a},LenaJS.blue=function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c],b[c+1],b[c+2],b[c]=0,b[c+1]=0;return a},LenaJS.saturation=function(a){for(var b=2.9,c=.3086,d=.6084,e=.082,f=(1-b)*c+b,g=(1-b)*c,h=(1-b)*c,i=(1-b)*d,j=(1-b)*d+b,k=(1-b)*d,l=(1-b)*e,m=(1-b)*e,n=(1-b)*e+b,o=0;o<a.data.length;o+=4)a.data[o]=f*a.data[o]+i*a.data[o+1]+l*a.data[o+2],a.data[o+1]=g*a.data[o]+j*a.data[o+1]+m*a.data[o+2],a.data[o+2]=h*a.data[o]+k*a.data[o+1]+n*a.data[o+2];return a},LenaJS.sepia=function(a){for(var b=a.data,c=0;c<b.length;c+=4){var d=b[c],e=b[c+1],f=b[c+2],g=.3*d+.59*e+.11*f;b[c]=b[c+1]=b[c+2]=g,b[c]+=40,b[c+1]+=20,b[c+2]-=20}return a},LenaJS.thresholding=function(a){for(var b=a.data,c=0;c<b.length;c+=4){var d=b[c],e=b[c+1],f=b[c+2],g=.2126*d+.7152*e+.0722*f;b[c]=b[c+1]=b[c+2]=g>128?255:0}return a};